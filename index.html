<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Grupo de Jovens da Par√≥quia</title>
<style>
/* --- Seus estilos existentes --- */
body, html{margin:0;padding:0;font-family:'Segoe UI',Arial,sans-serif;scroll-behavior:smooth;transition:background 0.5s,color 0.5s;}
body.dark-mode{background:#111;color:#fff;}
body.light-mode{background:#f5f5f5;color:#111;}
body.accessible{font-size:1.2em;line-height:1.8;}
a{text-decoration:none;color:inherit;}
#scrollProgress{position:fixed;top:0;left:0;height:5px;background:#FFD700;width:0%;z-index:1001;transition:width 0.25s ease;}
.wall{position:fixed;top:0;width:50%;height:100%;background:#FFD700;z-index:999;transition:transform 1.5s ease;}
.wall.left{left:0;}
.wall.right{right:0;}
.navbar{position:fixed;top:0;width:100%;background:rgba(0,0,0,0.7);display:flex;justify-content:space-between;align-items:center;padding:10px 30px;z-index:1000;border-bottom:2px solid #FFD700;}
.navbar a{color:#FFD700;margin-left:20px;font-weight:bold;transition:0.3s;}
.navbar a:hover{color:#fff;}
#themeToggle,#accessToggle{cursor:pointer;padding:5px 10px;border:1px solid #FFD700;border-radius:5px;background:#111;color:#FFD700;transition:0.3s;margin-left:10px;}
#themeToggle:hover,#accessToggle:hover{background:#FFD700;color:#111;}
.container{max-width:1100px;margin:100px auto 50px;padding:20px;opacity:0;transform:translateY(50px);transition:all 1s ease 1.6s;}
.container.show{opacity:1;transform:translateY(0);}
h1{text-align:center;color:#FFD700;font-size:3em;margin-bottom:40px;text-shadow:2px 2px 5px #000;}
.card{background:#1a1a1a;border-radius:15px;padding:25px;margin-bottom:30px;box-shadow:0 6px 18px rgba(0,0,0,0.7);transition: transform 0.3s, box-shadow 0.3s; border:2px solid #FFD700; perspective:1000px;opacity:0;transform:translateY(50px);}
.card.showCard{opacity:1;transform:translateY(0);}
.card:hover{transform:translateY(-10px) rotateX(2deg) rotateY(2deg);box-shadow:0 15px 40px rgba(0,0,0,0.9);}
.card h2{color:#FFD700;margin-top:0;text-shadow:1px 1px 3px #000;}
.accordion{background:#333;cursor:pointer;padding:16px 20px;border-radius:10px;margin-top:15px;border:1px solid #FFD700;position:relative;transition:0.3s;}
.accordion:hover{background:#444;}
.accordion::after{content:'+';position:absolute;right:20px;font-size:1.4em;top:50%;transform:translateY(-50%);transition:transform 0.3s;color:#FFD700;}
.accordion.active::after{content:'-';}
.panel{max-height:0;overflow:hidden;transition:max-height 0.5s ease, padding 0.5s ease;padding:0 20px;background:#222;margin-top:5px;border-radius:0 0 10px 10px;}
.panel p,.panel ul{margin:12px 0;line-height:1.7;color:#ccc;}
.panel ul{margin-left:20px;}
.gallery{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px;margin-top:20px;}
.gallery img{width:100%;border-radius:10px;cursor:pointer;transition:transform 0.3s;}
.gallery img:hover{transform:scale(1.1);}
#modal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.9);justify-content:center;align-items:center;z-index:1000;}
#modal img{max-width:80%; max-height:80%; border-radius:15px;}
#modal span{position:absolute; top:20px; right:30px; font-size:2em; cursor:pointer; color:#FFD700;}
.events{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:20px;margin-top:20px;}
.event{background:#222;padding:20px;border-radius:12px;border:2px solid #FFD700;opacity:0;transform:translateY(50px);transition:all 0.8s ease;}
.event.showCard{opacity:1;transform:translateY(0);}
.event h3{color:#FFD700;}
.spiritual{background:#222;padding:30px;border-radius:15px;border:2px solid #FFD700;text-align:center;margin-top:30px;font-size:1.2em;color:#FFD700;animation:glow 2s ease-in-out infinite alternate;}
@keyframes glow{0%{text-shadow:0 0 5px #FFD700;}100%{text-shadow:0 0 20px #FFD700;}}
form{display:flex;flex-direction:column;gap:10px;}
input,textarea,button{padding:10px;border-radius:8px;border:1px solid #FFD700;background:#1a1a1a;color:#fff;}
input:focus,textarea:focus{outline:none;border:2px solid #FFD700;}
button{cursor:pointer;background:#FFD700;color:#111;font-weight:bold;transition:0.3s;}
button:hover{background:#fff;color:#111;}
.quiz{background:#222;padding:20px;border-radius:12px;border:2px solid #FFD700;margin-top:20px;}
.quiz h3{color:#FFD700;}
.quiz button{margin-top:10px;}
.playlist iframe{border-radius:15px;margin-top:20px;width:100%;height:380px;}
.chat{background:#222;padding:20px;border-radius:12px;border:2px solid #FFD700;margin-top:20px;}
.chat-messages{height:200px;overflow-y:auto;border:1px solid #FFD700;padding:10px;margin-bottom:10px;border-radius:10px;background:#111;color:#fff;}
.chat input{width:80%;display:inline-block;}
.chat button{width:18%;display:inline-block;}
#topBtn{position:fixed;bottom:30px;right:30px;background:#FFD700;color:#111;border:none;padding:12px 20px;border-radius:10px;cursor:pointer;font-weight:bold;box-shadow:0 4px 12px rgba(0,0,0,0.5);display:none;transition:0.3s;}
#topBtn:hover{transform:scale(1.1);background:#fff;}
</style>
</head>
<body class="dark-mode">

<div id="scrollProgress"></div>

<div class="navbar">
<div>Grupo de Jovens</div>
<div>
<a href="#sobre">Sobre</a>
<a href="#atividades">Atividades</a>
<a href="#galeria">Galeria</a>
<a href="#eventos">Eventos</a>
<a href="#espiritual">F√©</a>
<a href="#inscricao">Inscri√ß√£o</a>
<a href="#quiz">Quiz</a>
<a href="#playlist">Playlist</a>
<a href="#chat">Chat</a>
<button id="themeToggle">Modo Claro</button>
<button id="accessToggle">Acessibilidade</button>
</div>
</div>

<div class="wall left"></div>
<div class="wall right"></div>

<div class="container">
<h1>Grupo de Jovens da Par√≥quia</h1>

<div class="card" id="sobre">
<h2>Sobre o Grupo</h2>
<p>Nosso grupo √© formado por jovens que buscam crescer na f√©, amizade e solidariedade...</p>
<button class="accordion">Mais detalhes</button>
<div class="panel">
<p>Participamos de retiros, encontros de forma√ß√£o espiritual e eventos culturais...</p>
</div>
</div>

<div class="card" id="atividades">
<h2>Atividades</h2>
<ul>
<li>Encontros toda sexta-feira √†s 19h</li>
<li>Din√¢micas, m√∫sica e partilha</li>
<li>Projetos sociais e voluntariado</li>
<li>Retiro anual para jovens</li>
</ul>
<button class="accordion">Mais detalhes</button>
<div class="panel">
<p>Tamb√©m organizamos campanhas de arrecada√ß√£o, visitas a asilos e institui√ß√µes de caridade...</p>
</div>
</div>

<div class="card" id="galeria">
<h2>Galeria</h2>
<div class="gallery">
<img src="https://picsum.photos/300?random=1">
<img src="https://picsum.photos/300?random=2">
<img src="https://picsum.photos/300?random=3">
</div>
<div id="modal"><span>&times;</span><img src=""></div>
</div>

<div class="card" id="eventos">
<h2>Eventos Futuros</h2>
<div class="events" id="eventList"></div>
</div>

<div class="card spiritual" id="espiritual">
<p>üìñ Vers√≠culo do Dia: "Tudo posso naquele que me fortalece." ‚Äì Filipenses 4:13</p>
</div>

<div class="card" id="inscricao">
<h2>Inscri√ß√£o para Eventos</h2>
<form id="formInscricao">
<input type="text" id="nome" placeholder="Nome" required>
<input type="email" id="email" placeholder="Email" required>
<input type="text" id="telefone" placeholder="Telefone">
<textarea id="mensagem" placeholder="Mensagem / Observa√ß√µes"></textarea>
<button type="submit">Enviar Inscri√ß√£o</button>
</form>
<div id="formMsg"></div>
</div>

<div class="card quiz" id="quiz">
<h3>Quiz B√≠blico</h3>
<p id="quizQuestion"></p>
<div id="quizButtons"></div>
<p id="quizResult"></p>
</div>

<div class="card playlist" id="playlist">
<h2>Playlist do Grupo</h2>
<iframe src="https://open.spotify.com/embed/playlist/37i9dQZF1DXcBWIGoYBM5M" allow="encrypted-media"></iframe>
</div>

<div class="card chat" id="chat">
<h2>Chat do Grupo</h2>
<div class="chat-messages" id="chatMessages"></div>
<input type="text" id="chatInput" placeholder="Escreva sua mensagem...">
<button onclick="sendMessage()">Enviar</button>
</div>

</div>

<button id="topBtn" onclick="window.scrollTo({top:0, behavior:'smooth'})">Topo</button>
<audio id="clickSound" src="https://www.soundjay.com/buttons/sounds/button-16.mp3" preload="auto"></audio>

<!-- Firebase e Analytics -->
<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-analytics.js";
import { getFirestore, collection, addDoc, query, orderBy, onSnapshot, getDocs, serverTimestamp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyACLVwUpCCeGFxmXe78MZggg3-J-4iA7hI",
  authDomain: "jovens-66ef5.firebaseapp.com",
  projectId: "jovens-66ef5",
  storageBucket: "jovens-66ef5.firebasestorage.app",
  messagingSenderId: "152431830746",
  appId: "1:152431830746:web:856d1bfe819c24b43ea7e3",
  measurementId: "G-CT8YMYDF08"
};

const app = initializeApp(firebaseConfig);
const analytics = getAnalytics(app);
const db = getFirestore(app);

// --- Chat funcional ---
const chatMessages = document.getElementById("chatMessages");
const chatInput = document.getElementById("chatInput");
const chatButton = chatInput.nextElementSibling; // bot√£o do chat

async function sendMessage() {
  if (chatInput.value.trim() !== "") {
    try {
      await addDoc(collection(db, "chat"), {
        usuario: "An√¥nimo",
        mensagem: chatInput.value.trim(),
        data: serverTimestamp() // timestamp do servidor garante ordem correta
      });
      chatInput.value = "";
    } catch (err) {
      console.error("Erro ao enviar mensagem:", err);
    }
  }
}

// Vincula o bot√£o e tecla Enter
chatButton.addEventListener("click", sendMessage);
chatInput.addEventListener("keypress", (e) => {
  if (e.key === "Enter") sendMessage();
});

// Exibe mensagens em tempo real
const chatQuery = query(collection(db, "chat"), orderBy("data"));
onSnapshot(chatQuery, (snapshot) => {
  chatMessages.innerHTML = "";
  snapshot.forEach(doc => {
    const msg = doc.data();
    const div = document.createElement("div");
    div.textContent = `${msg.usuario}: ${msg.mensagem}`;
    chatMessages.appendChild(div);
  });
  chatMessages.scrollTop = chatMessages.scrollHeight;
});

// --- Inscri√ß√£o ---
document.getElementById("formInscricao").addEventListener("submit", async e=>{
  e.preventDefault();
  const nome = document.getElementById("nome").value;
  const email = document.getElementById("email").value;
  const telefone = document.getElementById("telefone").value;
  const mensagem = document.getElementById("mensagem").value;
  try {
    await addDoc(collection(db,"inscricoes"), {nome,email,telefone,mensagem,data:serverTimestamp()});
    document.getElementById("formMsg").innerText = "‚úÖ Inscri√ß√£o enviada com sucesso!";
    e.target.reset();
  } catch(err) {
    document.getElementById("formMsg").innerText = "‚ùå Erro: "+err;
  }
});

// --- Quiz ---
const quizQuestion = document.getElementById("quizQuestion");
const quizButtons = document.getElementById("quizButtons");
async function loadQuiz(){
  const snapshot = await getDocs(collection(db,"quiz"));
  if(snapshot.empty) return;
  const docData = snapshot.docs[0].data();
  quizQuestion.innerText = docData.pergunta;
  quizButtons.innerHTML = "";
  docData.opcoes.forEach(op => {
    const btn = document.createElement("button");
    btn.innerText = op;
    btn.onclick = () => submitAnswer(op, docData.correta);
    quizButtons.appendChild(btn);
  });
}
async function submitAnswer(ans, correct){
  document.getElementById("quizResult").innerText = (ans===correct)?"‚úîÔ∏è Correto!":"‚ùå Errado!";
  await addDoc(collection(db,"quizRespostas"), {resposta:ans, correta:(ans===correct), data:serverTimestamp()});
}
loadQuiz();

// --- Eventos ---
const eventList = document.getElementById("eventList");
async function loadEvents(){
  const snapshot = await getDocs(collection(db,"eventos"));
  snapshot.forEach(doc => {
    const e = doc.data();
    const div = document.createElement("div");
    div.className = "event showCard";
    div.innerHTML = `<h3>${e.titulo}</h3><p>Data: ${e.data}</p>`;
    eventList.appendChild(div);
  });
}
loadEvents();
</script>


<script>
// --- JS restante (Accordion, scroll, modal, tema, acessibilidade, part√≠culas, paredes) ---
const clickSound=document.getElementById("clickSound");
document.querySelectorAll(".accordion").forEach(acc=>{
  acc.addEventListener("click",()=>{
    acc.classList.toggle("active");
    const panel=acc.nextElementSibling;
    if(panel.style.maxHeight){panel.style.maxHeight=null;}
    else{panel.style.maxHeight=panel.scrollHeight+"px";}
    clickSound.play();
  });
});
const observer=new IntersectionObserver(entries=>{
  entries.forEach(entry=>{
    if(entry.isIntersecting){entry.target.classList.add("showCard");}
  });
},{threshold:0.3});
document.querySelectorAll(".card,.event").forEach(el=>observer.observe(el));
window.addEventListener("scroll",()=>{
  const btn=document.getElementById("topBtn");
  btn.style.display=(window.scrollY>300)?"block":"none";
  const scrollProgress=document.getElementById("scrollProgress");
  scrollProgress.style.width=(window.scrollY/(document.body.scrollHeight-window.innerHeight)*100)+"%";
});
const modal=document.getElementById("modal");
const modalImg=modal.querySelector("img");
document.querySelectorAll(".gallery img").forEach(img=>{
  img.addEventListener("click",()=>{
    modal.style.display="flex";
    modalImg.src=img.src;
  });
});
modal.querySelector("span").addEventListener("click",()=>modal.style.display="none");
document.getElementById("themeToggle").addEventListener("click",()=>{
  document.body.classList.toggle("light-mode");
  document.body.classList.toggle("dark-mode");
});
document.getElementById("accessToggle").addEventListener("click",()=>document.body.classList.toggle("accessible"));
for(let i=0;i<30;i++){
  const p=document.createElement("div");
  p.className="particle";
  p.style.position="absolute";
  p.style.width="6px";
  p.style.height="6px";
  p.style.background="#FFD700";
  p.style.borderRadius="50%";
  p.style.left=Math.random()*100+"%";
  p.style.top=Math.random()*100+"%";
  p.style.opacity=Math.random();
  document.body.appendChild(p);
}
window.addEventListener("load",()=>{
  document.querySelector(".wall.left").style.transform="translateX(-100%)";
  document.querySelector(".wall.right").style.transform="translateX(100%)";
  document.querySelector(".container").classList.add("show");
});
</script>

</body>
</html>
